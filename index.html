<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™äº²çˆ±çš„ä¸“å±å°ç«™</title>
    <!-- å¼•å…¥å¤–éƒ¨èµ„æº -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- Tailwind é…ç½®ï¼ˆè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ï¼‰ -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        love: '#FF6B8B',      // ä¸»ç²‰è‰²ï¼ˆæ¸©é¦¨ï¼‰
                        sweet: '#FFB6C1',     // æµ…ç²‰è‰²
                        tender: '#FFD1DC',    // å«©ç²‰è‰²
                        warm: '#FFF0F3',      // ææµ…ç²‰ï¼ˆèƒŒæ™¯ï¼‰
                    },
                    fontFamily: {
                        cute: ['"Comic Sans MS"', '"Marker Felt"', 'sans-serif'], // å¯çˆ±å­—ä½“
                    },
                }
            }
        }
    </script>
    
    <!-- è‡ªå®šä¹‰å·¥å…·ç±» -->
    <style type="text/tailwindcss">
        @layer utilities {
            .topic-card {
                @apply bg-white rounded-2xl p-5 shadow-md hover:shadow-xl transition-all duration-300 
                       transform hover:-translate-y-1 cursor-pointer border-2 border-tender;
            }
            .external-card {
                @apply border-dashed border-love; /* å¤–éƒ¨é“¾æ¥å¡ç‰‡ç”¨è™šçº¿åŒºåˆ† */
            }
            .page-title {
                @apply text-[clamp(1.8rem,5vw,2.5rem)] font-bold text-love text-center mb-2;
            }
            .day-counter {
                @apply text-love font-bold text-[clamp(1.2rem,3vw,1.5rem)] text-center mb-4 
                       flex items-center justify-center gap-2; /* è®¤è¯†å¤©æ•°æ ·å¼ */
            }
            .page-subtitle {
                @apply text-gray-600 text-center mb-8 font-cute;
            }
            .modal {
                @apply fixed inset-0 bg-black/50 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300;
            }
            .modal.active {
                @apply opacity-100 pointer-events-auto; /* æ¨¡æ€æ¡†æ˜¾ç¤ºçŠ¶æ€ */
            }
            .modal-content {
                @apply bg-white rounded-2xl p-6 w-full max-w-md transform scale-95 transition-transform duration-300;
            }
            .modal.active .modal-content {
                @apply scale-100; /* æ¨¡æ€æ¡†å¼¹å‡ºåŠ¨ç”» */
            }
            .message-modal {
                @apply top-8; /* æ¶ˆæ¯å¼¹çª—ä½ç½®é ä¸Šï¼Œé¿å…é®æŒ¡åº•éƒ¨ */
            }
        }
    </style>
</head>
<body class="bg-warm min-h-screen font-cute">
    <div class="container mx-auto px-4 py-8 max-w-2xl">
        <!-- é¡µé¢æ ‡é¢˜åŒºï¼ˆå«è®¤è¯†å¤©æ•°ï¼‰ -->
        <div class="mb-10 pt-4">
            <h1 class="page-title">ç»™æˆ‘æœ€çˆ±çš„äºº â¤ï¸</h1>
            <!-- è®¤è¯†å¤©æ•°æ˜¾ç¤º -->
            <div class="day-counter">
                <i class="fa fa-calendar"></i>
                <span>æˆ‘ä»¬å·²ç»è®¤è¯† <span id="loveDays">0</span> å¤©å•¦</span>
            </div>
            <p class="page-subtitle">è¿™é‡Œæœ‰æˆ‘ä»¬çš„ç‚¹ç‚¹æ»´æ»´</p>
        </div>
        
        <!-- ä¸“é¢˜å¡ç‰‡åŒºåŸŸ -->
        <div class="grid grid-cols-1 gap-6">
            <!-- 1. å¸¦å¯†ç ä¿æŠ¤çš„ç›¸å†Œï¼ˆå†…éƒ¨é¡µé¢ï¼‰ -->
            <div class="topic-card" id="galleryCard">
                <div class="flex items-center">
                    <div class="bg-tender p-4 rounded-full mr-4">
                        <i class="fa fa-camera text-2xl text-love"></i>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold text-gray-800">æˆ‘ä»¬çš„å›å¿†ç›¸å†Œ</h2>
                        <p class="text-gray-600 mt-1">è®°å½•åœ¨ä¸€èµ·çš„ç¾å¥½ç¬é—´</p>
                        <span class="inline-block mt-1 text-xs bg-sweet/30 text-love px-2 py-0.5 rounded">
                            <i class="fa fa-lock mr-1"></i> åŠ å¯†å†…å®¹
                        </span>
                    </div>
                    <div class="ml-auto">
                        <i class="fa fa-arrow-right text-love"></i>
                    </div>
                </div>
            </div>
            
            <!-- 2. å¤–éƒ¨é“¾æ¥1ï¼šè±†ç“£ç”µå½± -->
            <a href="https://movie.douban.com/subject/1393859/" target="_blank" rel="noopener noreferrer" class="topic-card external-card">
                <div class="flex items-center">
                    <div class="bg-tender p-4 rounded-full mr-4">
                        <i class="fa fa-film text-2xl text-love"></i>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold text-gray-800">æœ€è¿‘æƒ³çœ‹çš„ç”µå½±</h2>
                        <p class="text-gray-600 mt-1">è€å‹è®°ï¼ˆåœ¨æ–°çª—å£ä¸­æ‰“å¼€ï¼‰</p>
                        <span class="inline-block mt-1 text-xs bg-love/10 text-love px-2 py-0.5 rounded">å¤–éƒ¨é“¾æ¥</span>
                    </div>
                    <div class="ml-auto">
                        <i class="fa fa-external-link text-love"></i>
                    </div>
                </div>
            </a>
            
            <!-- 3. å†…éƒ¨é“¾æ¥1ï¼š2025æƒ…äººèŠ‚ -->
            <a href="gift20250601.html" class="topic-card">
                <div class="flex items-center">
                    <div class="bg-tender p-4 rounded-full mr-4">
                        <i class="fa fa-heart text-2xl text-love"></i>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold text-gray-800">2025æƒ…äººèŠ‚</h2>
                        <p class="text-gray-600 mt-1">2025.2.14æƒ…äººèŠ‚ä¸“é¢˜é¡µé¢</p>
                    </div>
                    <div class="ml-auto">
                        <i class="fa fa-arrow-right text-love"></i>
                    </div>
                </div>
            </a>
            
            <!-- 4. å†…éƒ¨é“¾æ¥2ï¼šæ‹çˆ±æ¸…å• -->
            <a href="checklist.html" class="topic-card">
                <div class="flex items-center">
                    <div class="bg-tender p-4 rounded-full mr-4">
                        <i class="fa fa-list-alt text-2xl text-love"></i>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold text-gray-800">æˆ‘ä»¬çš„æ‹çˆ±æ¸…å•</h2>
                        <p class="text-gray-600 mt-1">ä¸€èµ·è¦å®Œæˆçš„100ä»¶å°äº‹</p>
                    </div>
                    <div class="ml-auto">
                        <i class="fa fa-arrow-right text-love"></i>
                    </div>
                </div>
            </a>


        
        <!-- é¡µè„š -->
        <div class="mt-12 text-center text-gray-500 text-sm pb-6">
            <p>æ›´æ–°äºï¼š2025å¹´9æœˆ â¤ï¸</p>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡†1ï¼šå¯†ç éªŒè¯ï¼ˆç›¸å†Œä¸“ç”¨ï¼‰ -->
    <div class="modal" id="passwordModal">
        <div class="modal-content">
            <h3 class="text-xl font-bold text-love mb-4 text-center">è¯·è¾“å…¥å¯†ç æŸ¥çœ‹ç›¸å†Œ</h3>
            <p class="text-gray-600 text-center mb-5 text-sm">è¿™æ˜¯æˆ‘ä»¬çš„ä¸“å±å›å¿†å“¦~</p>
            
            <div class="mb-4">
                <input type="password" id="passwordInput" 
                       class="w-full px-4 py-3 rounded-lg border-2 border-tender focus:border-love focus:outline-none transition-colors"
                       placeholder="è¾“å…¥å¯†ç ">
            </div>
            
            <div class="flex gap-3">
                <button id="cancelBtn" class="flex-1 py-3 rounded-lg border-2 border-tender text-gray-700 hover:bg-tender/30 transition-colors">
                    å–æ¶ˆ
                </button>
                <button id="confirmBtn" class="flex-1 py-3 rounded-lg bg-love text-white hover:bg-love/90 transition-colors">
                    ç¡®è®¤æŸ¥çœ‹
                </button>
            </div>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡†2ï¼šè‡ªåŠ¨å¼¹å‡ºæ¶ˆæ¯ -->
    <div class="modal message-modal" id="messageModal">
        <div class="modal-content">
            <div class="text-center mb-4">
                <i class="fa fa-heart text-4xl text-love animate-pulse"></i>
            </div>
            <h3 class="text-xl font-bold text-love mb-3 text-center">äº²çˆ±çš„ğŸ’Œ</h3>
            <div id="popupMessage" class="text-gray-700 text-center mb-6 leading-relaxed">
                ä»Šå¤©è·¯è¿‡ä¸Šæ¬¡ä¸€èµ·å»çš„å¥¶èŒ¶åº—ï¼Œ
                ä¹°äº†æ¯ä½ æœ€çˆ±çš„çç å¥¶èŒ¶ï¼Œ
                ç­‰ä½ ä¸‹ç­ä¸€èµ·å–å‘€ï½
            </div>
            <button id="closeMessageBtn" class="w-full py-3 rounded-lg bg-love text-white hover:bg-love/90 transition-colors">
                æ”¶åˆ°å•¦ â¤ï¸
            </button>
        </div>
    </div>

    <!-- æ ¸å¿ƒåŠŸèƒ½ JavaScript -->
    <script>
        // ===================== 1. åŸºç¡€é…ç½®ï¼ˆæ–¹ä¾¿ä½ ä¿®æ”¹ï¼‰ =====================
        const MEET_DATE = new Date(2024, 11, 24); // è®¤è¯†æ—¥æœŸï¼š2024å¹´12æœˆ24æ—¥ï¼ˆæœˆä»½0å¼€å§‹ï¼Œ12æœˆ=11ï¼‰
        const POPUP_MESSAGE = `
                  à¸¡à¸­à¸šà¸à¸³à¹„à¸¥à¹€à¸ªà¹‰à¸™à¹€à¸¥à¹‡à¸à¹† à¹ƒà¸«à¹‰à¹€à¸˜à¸­ à¸«à¸§à¸±à¸‡à¸§à¹ˆà¸²à¸¡à¸±à¸™à¸ˆà¸°à¸­à¸¢à¸¹à¹ˆà¸à¸±à¸šà¹€à¸˜à¸­<br>
      à¹€à¸«à¸¡à¸·à¸­à¸™à¸à¸±à¸šà¸—à¸µà¹ˆà¸‰à¸±à¸™à¸­à¸¢à¸²à¸à¸­à¸¢à¸¹à¹ˆà¹€à¸„à¸µà¸¢à¸‡à¸‚à¹‰à¸²à¸‡à¹€à¸˜à¸­à¹€à¸ªà¸¡à¸­ <br>
      à¹à¸¥à¸°à¸¢à¸±à¸‡à¹€à¸•à¸£à¸µà¸¢à¸¡à¸‚à¸­à¸‡à¹€à¸¥à¹‡à¸à¹† à¸­à¸µà¸à¸Šà¸´à¹‰à¸™à¹„à¸§à¹‰à¹ƒà¸«à¹‰ à¸£à¸–à¸‚à¸­à¸‡à¹€à¸˜à¸­à¸ˆà¸°à¹„à¸”à¹‰à¸ªà¸°à¸­à¸²à¸”à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² ğŸš—âœ¨<br>
      à¹„à¸¡à¹ˆà¸§à¹ˆà¸²à¸ˆà¸°à¹€à¸›à¹‡à¸™à¹€à¸˜à¸­ à¸«à¸£à¸·à¸­à¸Šà¸µà¸§à¸´à¸•à¸‚à¸­à¸‡à¹€à¸˜à¸­ à¸‰à¸±à¸™à¸à¹‡à¸­à¸¢à¸²à¸à¸”à¸¹à¹à¸¥à¹ƒà¸«à¹‰à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸” â¤ï¸
        `; // å¼¹å‡ºæ¶ˆæ¯å†…å®¹
        const GALLERY_PASSWORD = "123456"; // ç›¸å†Œå¯†ç ï¼ˆå»ºè®®æ”¹æˆä½ ä»¬çš„ä¸“å±å¯†ç ï¼‰
        const TARGET_PAGE = "memories.html"; // ç›¸å†Œé¡µé¢è·¯å¾„ï¼ˆéœ€å’ŒæœåŠ¡å™¨æ–‡ä»¶ä¸€è‡´ï¼‰

        // ===================== 2. è®¤è¯†å¤©æ•°è®¡ç®— =====================
        function calculateLoveDays() {
            const today = new Date(); // è·å–å½“å‰æ—¥æœŸ
            const timeDiff = today - MEET_DATE; // è®¡ç®—æ—¶é—´å·®ï¼ˆæ¯«ç§’ï¼‰
            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24)); // è½¬æ¢ä¸ºå¤©æ•°
            document.getElementById('loveDays').textContent = days; // æ˜¾ç¤ºåˆ°é¡µé¢
        }

        // ===================== 3. é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæ‰€æœ‰åŠŸèƒ½ =====================
        document.addEventListener('DOMContentLoaded', () => {
            // 3.1 è®¡ç®—å¹¶æ˜¾ç¤ºè®¤è¯†å¤©æ•°
            calculateLoveDays();

            // 3.2 æ˜¾ç¤ºè‡ªåŠ¨å¼¹å‡ºæ¶ˆæ¯
            document.getElementById('popupMessage').innerHTML = POPUP_MESSAGE;
            setTimeout(() => {
                document.getElementById('messageModal').classList.add('active');
            }, 500); // å»¶è¿Ÿ500msæ˜¾ç¤ºï¼Œé¿å…å’Œé¡µé¢åŠ è½½å†²çª

            // 3.3 ä¸“é¢˜å¡ç‰‡åŠ è½½åŠ¨ç”»
            const cards = document.querySelectorAll('.topic-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(10px)';
                // é¡ºåºæ˜¾ç¤ºå¡ç‰‡ï¼Œå¢å¼ºè§†è§‰æ•ˆæœ
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 * index);
            });
        });

        // ===================== 4. å¼¹å‡ºæ¶ˆæ¯å…³é—­åŠŸèƒ½ =====================
        document.getElementById('closeMessageBtn').addEventListener('click', () => {
            document.getElementById('messageModal').classList.remove('active');
        });

        // ===================== 5. ç›¸å†Œå¯†ç éªŒè¯åŠŸèƒ½ =====================
        // è·å–å…ƒç´ 
        const galleryCard = document.getElementById('galleryCard');
        const passwordModal = document.getElementById('passwordModal');
        const passwordInput = document.getElementById('passwordInput');
        const confirmBtn = document.getElementById('confirmBtn');
        const cancelBtn = document.getElementById('cancelBtn');

        // ç‚¹å‡»ç›¸å†Œå¡ç‰‡ï¼Œæ‰“å¼€å¯†ç æ¡†
        galleryCard.addEventListener('click', () => {
            passwordModal.classList.add('active');
            passwordInput.focus(); // è‡ªåŠ¨èšç„¦è¾“å…¥æ¡†ï¼Œæ–¹ä¾¿æ“ä½œ
        });

        // å…³é—­å¯†ç æ¡†ï¼ˆæ¸…ç©ºè¾“å…¥ï¼‰
        function closePasswordModal() {
            passwordModal.classList.remove('active');
            passwordInput.value = '';
        }

        // å–æ¶ˆæŒ‰é’®äº‹ä»¶
        cancelBtn.addEventListener('click', closePasswordModal);

        // ç‚¹å‡»å¯†ç æ¡†å¤–éƒ¨å…³é—­
        passwordModal.addEventListener('click', (e) => {
            if (e.target === passwordModal) closePasswordModal();
        });

        // å¯†ç éªŒè¯é€»è¾‘
        function checkPassword() {
            const inputPwd = passwordInput.value.trim();
            if (inputPwd === GALLERY_PASSWORD) {
                window.location.href = TARGET_PAGE; // å¯†ç æ­£ç¡®ï¼Œè·³è½¬ç›¸å†Œ
            } else {
                alert('å¯†ç ä¸æ­£ç¡®å“¦~ å†è¯•è¯•å§'); // å¯†ç é”™è¯¯ï¼Œæç¤º
                passwordInput.value = '';
                passwordInput.focus();
            }
        }

        // ç¡®è®¤æŒ‰é’®äº‹ä»¶
        confirmBtn.addEventListener('click', checkPassword);

        // å›è½¦é”®è§¦å‘å¯†ç éªŒè¯ï¼ˆä¼˜åŒ–æ‰‹æœºä½“éªŒï¼‰
        passwordInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') checkPassword();
        });
    </script>
</body>
</html>
